<div class="container-fluid table-responsive" ng-init="periodicBookingCtrl.initPeriodicBooking()">
    <div class="alert alert-danger" ng-show="error !== undefined" style="padding:2px;margin-bottom:2px;">
         {{error}}
         <a style="float: right" ng-click="removeErrorMessage()">x</a>
   </div>
   <div class="alert alert-success" ng-show="message !== undefined" style="padding:2px;margin-bottom:2px;">
         {{message}}
         <a style="float: right" ng-click="removeMessage()">x</a>
   </div>
   <div class="alert alert-success" ng-show="messageAdmin !== undefined" style="padding:2px;margin-bottom:2px;">
         {{messageAdmin}}
         <a style="float: right" ng-click="removeMessageAdmin()">x</a>
   </div>
   {{periodicBookings}}
   <div id="calendarStartDays" class="container-fluid" style="float:left;width:30%;">
      <table id="selectStartingDay" class="table-responsive table-hover" 
            style="margin-left: 2px;margin-bottom:5px;padding:0px;width:100%;" align="center">
         <tr>
             <td >
                 <button ng-click="periodicBookingCtrl.initWeekData(periodicBookingCtrl.dateStart.month()-1, true)"><</button>
             </td>
             <td colspan="5" style="text-align:center;padding:2px;">
                 {{periodicBookingCtrl.dateStart.format("MMMM YYYY")}}
             </td>
             <td colspan="2">
                 <button ng-click="periodicBookingCtrl.initWeekData(periodicBookingCtrl.dateStart.month()+1, true)">></button>
             </td>
         </tr>
         <tr>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY1_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY2_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY3_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY4_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY5_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY6_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY7_LABEL' | i18n}}
             </th>
         </tr>
         <tr ng-repeat="monthWeek in periodicBookingCtrl.monthWeeks[0] track by $index" align="center">
             <td ng-repeat="monthDay in monthWeek.monthDays track by $index" 
                 ng-class="{selectedClass: periodicBookingCtrl.selectedStartDay === monthDay.day && periodicBookingCtrl.selectedStartMonth === monthDay.month && periodicBookingCtrl.selectedStartYear === monthWeek.year,
                  todayClass:periodicBookingCtrl.todayDate === monthDay.day && periodicBookingCtrl.todayMonth === monthDay.month && periodicBookingCtrl.todayYear === monthWeek.year}" 
                 ng-click="periodicBookingCtrl.selectStartingDay(monthDay, monthWeek.week,monthWeek.year)" 
                 style="margin: 5px;padding:2px;font-weight: normal;text-align:center;" >
                 {{monthDay.day}}
             </td>
         </tr>
      </table>
   </div>
   <div id="calendarEndDays" class="container-fluid" style="width:30%;">
      <table id="SelectEndingDay" class="table-responsive table-hover" 
            style="margin-left: 2px;margin-bottom:5px;padding:0px;width:100%;" align="center">
         <tr>
             <td >
                 <button ng-click="periodicBookingCtrl.initWeekData(periodicBookingCtrl.dateEnd.month()-1, false)"><</button>
             </td>
             <td colspan="5" style="text-align:center;padding:2px;">
                 {{periodicBookingCtrl.dateEnd.format("MMMM YYYY")}}
             </td>
             <td colspan="2">
                 <button ng-click="periodicBookingCtrl.initWeekData(periodicBookingCtrl.dateEnd.month()+1, false)">></button>
             </td>
         </tr>
         <tr>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY1_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY2_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY3_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY4_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY5_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY6_LABEL' | i18n}}
             </th>
             <th style="text-align:center;padding:2px;margin-right:5px;">
                {{'AGENDA_DAY7_LABEL' | i18n}}
             </th>
         </tr>
         <tr ng-repeat="monthWeekEnd in periodicBookingCtrl.monthWeeks[1] track by $index" align="center">
             <td ng-repeat="monthDayEnd in monthWeekEnd.monthDays track by $index" 
                 ng-class="{selectedClass: periodicBookingCtrl.selectedEndDay === monthDayEnd.day && periodicBookingCtrl.selectedEndMonth === monthDayEnd.month && periodicBookingCtrl.selectedEndYear === monthWeekEnd.year,
                 todayClass:periodicBookingCtrl.todayDate === monthDayEnd.day && periodicBookingCtrl.todayMonth === monthDayEnd.month && periodicBookingCtrl.todayYear === monthWeek.year}" 
                 ng-click="periodicBookingCtrl.selectEndingDay(monthDayEnd, monthWeekEnd.week,monthWeekEnd.year)" 
                 style="margin: 5px;padding:2px;font-weight: normal;text-align:center;" >
                 {{monthDayEnd.day}}
             </td>
         </tr>
      </table>
   </div>
   <div>
      <form name="selectSchedulesForm"
         style="width:100%;"
        ng-submit="selectSchedulesForm.$valid && periodicBookingCtrl.addPeriodicBooking()" novalidate>
        <div class="input-group">
            <div  style="width:50%;float: left;margin-bottom:20px;">
                <label style="">{{'FREE_SLOT_SCHEDULE_FROM_LABEL' | i18n}}</label><br>
                <select ng-model="periodicBookingCtrl.periodicBookingScheduleStart" required>
                    <option ng-repeat="timeStart in periodicBookingCtrl.schedules track by $index" value="{{timeStart}}">{{periodicBookingCtrl.schedulesLabels[$index]}}</option>
                </select>
            </div>
            <div style="width:50%;float: right;margin-bottom:20px;">
                <label>{{'FREE_SLOT_SCHEDULE_TO_LABEL' | i18n}}</label><br>
                <select ng-model="periodicBookingCtrl.periodicBookingScheduleEnd" required>
                    <option ng-repeat="timeEnd in periodicBookingCtrl.schedules track by $index" value="{{timeEnd}}">{{periodicBookingCtrl.schedulesLabels[$index]}}</option>
                </select>
            </div>
        </div>
        <div class="input-group">
            <div style="width:50%;float: right;margin-bottom:20px;">
                <label>Salle :</label><br>
                <select ng-model="periodicBookingCtrl.periodicBookingRoom" required>
                     <option ng-repeat="room in rooms track by $index" value="{{room.room}}">    {{room.room}}
                     </option>
                </select>
            </div>
        </div>
        <input class="btn btn-success" ng-hide="dataLoading === true" type="submit" value="RÃ©server" style="margin-bottom:20px;" required/>                  
        <img ng-show="dataLoading === true" src="/images/loading.svg" 
            alt="Recherche en cours..." style="width: 5%; height: 5%"/>
      </form>
   </div>
      <p>{{periodicBookingCtrl.periodicBookingStartingDay}} for {{periodicBookingCtrl.periodicBookingWeeksDuration}} weeks</p>
      <p>from {{periodicBookingCtrl.periodicBookingScheduleStart}} to {{periodicBookingCtrl.periodicBookingScheduleEnd}}</p>

</div>